-- Cambia a tu base de datos
USE bitacora;

-- Desactivar restricciones de claves foráneas temporalmente
SET FOREIGN_KEY_CHECKS = 0;

-- Eliminar todas las tablas excepto 'user' (que se llama 'user' en minúsculas normalmente en TypeORM)
DROP TABLE IF EXISTS 
  provider, 
  vehicle, 
  fuel_load, 
  service, 
  item;

-- Activar nuevamente las restricciones
SET FOREIGN_KEY_CHECKS = 1;




-- Selecciona la base de datos
USE bitacora;

-- Elimina todos los registros de vehículos
DELETE FROM vehicle;

-- Reinicia el autoincremento desde 1001
ALTER TABLE vehicle AUTO_INCREMENT = 1001;

-- Inserta vehículos nuevos asociados al rubro ferretero y áridos
INSERT INTO vehicle (plate, engineNumber, brand, model, year, name, notes, createdAt)
VALUES
  ('HBLX-01', 'ENG-001', 'Mercedes-Benz', 'Actros', 2018, 'Camión Blanco', 'Camión para traslado de arena y ripio', NOW()),
  ('HBLX-02', 'ENG-002', 'Caterpillar', '938M', 2020, 'Pala Cargadora', 'Utilizada para cargar áridos y materiales pesados', NOW()),
  ('HBLX-03', 'ENG-003', 'Toyota', 'Hilux', 2021, 'Camioneta de Supervisión', 'Movilización de personal en terreno', NOW()),
  ('HBLX-04', 'ENG-004', 'Hyster', 'H50FT', 2017, 'Yale Montacarga', 'Montacarga para maniobras en bodega', NOW()),
  ('HBLX-05', 'ENG-005', 'Volvo', 'FMX', 2019, 'Camión Tolva', 'Transporta ripio desde la cantera', NOW()),
  ('HBLX-06', 'ENG-006', 'John Deere', '310SL', 2022, 'Retroexcavadora', 'Para excavación y movimiento de escombros', NOW()),
  ('HBLX-07', 'ENG-007', 'Chevrolet', 'NKR', 2023, 'Camión Reparto', 'Distribución de productos de ferretería', NOW());



USE bitacora;

-- Eliminar todos los registros existentes
DELETE FROM provider;

-- Reiniciar el autoincremento desde 1001
ALTER TABLE provider AUTO_INCREMENT = 1001;

-- Insertar nuevos proveedores
INSERT INTO provider 
  (name, identifier, type, phone, email, address, notes, createdAt)
VALUES 
  ('PetroChile Talca', '76123456-7', 'fuel', '712345678', 'talca@petrochile.cl', 'Av. San Miguel 1234, Talca', 'Estación de servicio principal', NOW()),
  ('Copec Pencahue', '76987654-3', 'fuel', '712876543', 'pencahue@copec.cl', 'Ruta K-60 km 3, Pencahue', 'Combustible para flota pesada', NOW()),
  ('LubriCentro El Rayo', '77345678-9', 'maintenance', '715556677', 'lubricentro@rayo.cl', 'Av. Circunvalación 444, Talca', 'Cambio de aceite y filtros', NOW()),
  ('Repuestos La Roca', '78567890-2', 'parts', '716112233', 'ventas@laroca.cl', '1 Sur #2233, Talca', 'Proveedores de repuestos originales', NOW()),
  ('Taller El Turbo', '77123456-8', 'repair', '719887766', 'taller@elturbo.cl', 'Camino Viejo a Pencahue, Pencahue', 'Mecánica general de camiones', NOW()),
  ('Mantenciones Don Mario', '76111222-3', 'maintenance', '715674839', 'dmario@mantenciones.cl', '10 Oriente #1888, Talca', 'Alineación y balanceo', NOW()),
  ('Baterías EnergyPlus', '76666999-1', 'parts', '714789632', 'contacto@energyplus.cl', 'Av. Colín 456, Talca', 'Venta de baterías de alto rendimiento', NOW()),
  ('Taller y Gruas Robles', '75333444-6', 'repair', '717712345', 'robles@gruas.cl', 'Los Copihues 785, Pencahue', 'Servicio de grúa y rescate', NOW()),
  ('Distribuidora GasoSur', '73222555-1', 'fuel', '713321445', 'ventas@gasosur.cl', 'Ruta 5 Sur km 255, Talca', 'Distribución de petróleo diésel', NOW()),
  ('Multiservicios El Mecánico', '77888999-0', 'repair', '719998877', 'mecanico@multiserv.cl', 'Av. La Paz 999, Talca', 'Especialistas en motores diésel', NOW()),
  ('Ferretería El Fierro', '76555444-2', 'other', '712345987', 'contacto@elfierro.cl', 'San Miguel 2020, Talca', 'Insumos varios y herramientas', NOW()),
  ('Centro de Frenos Talca', '75666777-1', 'maintenance', '714412589', 'frenos@centrotalca.cl', '5 Sur #1313, Talca', 'Revisión y reemplazo de frenos', NOW()),
  ('Lubricantes MaxOil', '73999888-4', 'parts', '715532114', 'ventas@maxoil.cl', 'Av. Lircay 4040, Talca', 'Aceites y aditivos premium', NOW()),
  ('Taller El Pro', '78111333-2', 'repair', '716789321', 'elpro@taller.cl', 'Camino a Botalcura s/n, Pencahue', 'Electromecánica avanzada', NOW());

USE bitacora;

INSERT INTO fuel_load (vehicleId, date, providerId, invoiceNumber, liters, totalPrice, userId) VALUES
(1001, '2025-01-25 00:00:00', 1002, '64164-0', 94.93, 86316, 1),
(1001, '2025-02-04 00:00:00', 1009, '22624-7', 94.26, 116290, 1),
(1001, '2025-01-10 00:00:00', 1009, '71454-8', 59.31, 59595, 1),
(1001, '2025-04-21 00:00:00', 1001, '79887-2', 52.22, 44489, 1),
(1001, '2025-03-05 00:00:00', 1009, '88648-8', 48.14, 40238, 1),
(1001, '2025-04-07 00:00:00', 1002, '69468-8', 91.64, 99964, 1),
(1001, '2025-01-21 00:00:00', 1002, '43143-6', 53.84, 61468, 1),
(1001, '2025-03-24 00:00:00', 1001, '25039-5', 31.42, 39184, 1),
(1001, '2025-03-17 00:00:00', 1001, '90335-9', 101.41, 120444, 1),
(1001, '2025-01-09 00:00:00', 1002, '48413-4', 31.88, 30507, 1),
(1001, '2025-01-15 00:00:00', 1001, '28550-5', 88.75, 87496, 1),
(1001, '2025-01-13 00:00:00', 1009, '75166-7', 80.02, 66171, 1),
(1001, '2025-02-09 00:00:00', 1009, '44090-3', 108.24, 89877, 1),
(1001, '2025-02-26 00:00:00', 1002, '85516-4', 116.08, 136551, 1),
(1002, '2025-04-14 00:00:00', 1002, '99731-8', 87.24, 73725, 1),
(1002, '2025-03-26 00:00:00', 1002, '99601-2', 34.22, 40020, 1),
(1002, '2025-03-03 00:00:00', 1002, '64501-1', 20.75, 19294, 1),
(1002, '2025-02-15 00:00:00', 1009, '98871-2', 117.99, 99397, 1),
(1002, '2025-03-09 00:00:00', 1001, '28815-6', 84.84, 95986, 1),
(1002, '2025-03-07 00:00:00', 1001, '38798-9', 96.47, 92101, 1),
(1002, '2025-02-18 00:00:00', 1009, '40870-3', 36.48, 44111, 1),
(1002, '2025-03-28 00:00:00', 1009, '27170-2', 111.69, 143175, 1),
(1002, '2025-03-06 00:00:00', 1009, '32839-0', 116.82, 104421, 1),
(1002, '2025-04-03 00:00:00', 1009, '24245-1', 59.62, 59924, 1),
(1002, '2025-02-08 00:00:00', 1001, '76074-2', 70.32, 71222, 1),
(1002, '2025-02-11 00:00:00', 1009, '44203-0', 62.65, 73573, 1),
(1002, '2025-03-25 00:00:00', 1009, '63871-5', 44.42, 43274, 1),
(1003, '2025-02-18 00:00:00', 1001, '27333-5', 105.89, 126538, 1),
(1003, '2025-02-10 00:00:00', 1001, '50616-7', 106.07, 113418, 1),
(1003, '2025-03-01 00:00:00', 1001, '10734-2', 47.38, 59610, 1),
(1003, '2025-03-07 00:00:00', 1002, '83509-1', 54.67, 50068, 1),
(1003, '2025-03-23 00:00:00', 1009, '40036-4', 103.4, 92066, 1),
(1003, '2025-04-19 00:00:00', 1002, '55648-8', 62.49, 71481, 1),
(1003, '2025-02-20 00:00:00', 1002, '20745-1', 21.74, 25606, 1),
(1003, '2025-03-13 00:00:00', 1002, '48745-8', 44.11, 56791, 1),
(1003, '2025-01-16 00:00:00', 1009, '48889-3', 91.09, 103307, 1),
(1003, '2025-04-16 00:00:00', 1009, '47783-0', 109.29, 92061, 1),
(1003, '2025-02-19 00:00:00', 1002, '20516-3', 54.48, 48283, 1),
(1003, '2025-04-10 00:00:00', 1001, '16930-2', 95.88, 78470, 1),
(1004, '2025-01-27 00:00:00', 1001, '84727-0', 27.95, 24947, 1),
(1004, '2025-01-15 00:00:00', 1002, '66847-4', 33.26, 30772, 1),
(1004, '2025-04-16 00:00:00', 1002, '90403-8', 42.25, 34754, 1),
(1004, '2025-04-26 00:00:00', 1009, '90844-5', 119.41, 153731, 1),
(1004, '2025-02-22 00:00:00', 1002, '14918-4', 39.26, 51002, 1),
(1004, '2025-03-29 00:00:00', 1009, '34326-8', 101.79, 93201, 1),
(1004, '2025-03-14 00:00:00', 1001, '78114-9', 36.97, 46120, 1),
(1004, '2025-01-16 00:00:00', 1002, '20134-1', 95.93, 96110, 1),
(1004, '2025-03-01 00:00:00', 1001, '34759-7', 46.16, 55519, 1),
(1004, '2025-03-29 00:00:00', 1009, '25840-2', 86.81, 93335, 1),
(1004, '2025-03-24 00:00:00', 1009, '59502-9', 31.09, 32143, 1),
(1004, '2025-03-08 00:00:00', 1002, '96686-3', 88.75, 85423, 1),
(1004, '2025-01-07 00:00:00', 1009, '73155-3', 43.1, 47867, 1),
(1004, '2025-02-23 00:00:00', 1001, '27516-4', 44.66, 41032, 1),
(1004, '2025-04-17 00:00:00', 1009, '83975-3', 94.07, 119637, 1),
(1004, '2025-01-25 00:00:00', 1002, '58245-6', 43.27, 41961, 1),
(1004, '2025-04-03 00:00:00', 1001, '52131-7', 110.53, 129167, 1),
(1005, '2025-04-28 00:00:00', 1009, '56802-7', 62.35, 64954, 1),
(1005, '2025-02-14 00:00:00', 1009, '12367-4', 28.9, 28974, 1),
(1005, '2025-04-05 00:00:00', 1002, '97039-9', 24.93, 26051, 1),
(1005, '2025-02-26 00:00:00', 1002, '41747-7', 113.98, 110482, 1),
(1005, '2025-03-23 00:00:00', 1009, '46262-4', 86.48, 77210, 1),
(1005, '2025-01-04 00:00:00', 1001, '25435-0', 20.83, 26307, 1),
(1005, '2025-04-17 00:00:00', 1002, '66941-0', 49.74, 57968, 1),
(1005, '2025-03-28 00:00:00', 1001, '35635-8', 102.88, 129658, 1),
(1005, '2025-02-14 00:00:00', 1009, '86651-6', 39.77, 32141, 1),
(1005, '2025-03-23 00:00:00', 1002, '45159-4', 104.78, 99147, 1),
(1005, '2025-02-26 00:00:00', 1002, '83572-5', 71.13, 85536, 1),
(1006, '2025-04-24 00:00:00', 1009, '22938-3', 22.37, 19889, 1),
(1006, '2025-03-29 00:00:00', 1009, '84495-0', 108.71, 120737, 1),
(1006, '2025-01-09 00:00:00', 1002, '33734-3', 97.68, 116616, 1),
(1006, '2025-01-15 00:00:00', 1009, '57321-2', 41.53, 34006, 1),
(1006, '2025-01-30 00:00:00', 1009, '30498-4', 46.44, 57225, 1),
(1006, '2025-02-18 00:00:00', 1009, '52937-1', 79.83, 96691, 1),
(1006, '2025-03-15 00:00:00', 1002, '17915-6', 80.57, 87592, 1),
(1006, '2025-03-21 00:00:00', 1002, '28489-6', 78.52, 68702, 1),
(1006, '2025-02-06 00:00:00', 1001, '85148-3', 113.67, 125943, 1),
(1006, '2025-04-25 00:00:00', 1009, '56125-9', 115.12, 95909, 1),
(1006, '2025-03-22 00:00:00', 1002, '26769-9', 54.0, 46903, 1),
(1006, '2025-02-08 00:00:00', 1009, '95625-5', 54.86, 50400, 1),
(1006, '2025-01-27 00:00:00', 1002, '73397-3', 65.78, 82408, 1),
(1006, '2025-02-16 00:00:00', 1002, '59565-8', 70.6, 60022, 1),
(1006, '2025-03-21 00:00:00', 1009, '93425-8', 112.85, 121896, 1),
(1006, '2025-01-10 00:00:00', 1002, '13095-8', 68.54, 78386, 1),
(1006, '2025-02-01 00:00:00', 1002, '87169-9', 48.24, 46073, 1),
(1007, '2025-01-14 00:00:00', 1002, '77387-3', 61.09, 62039, 1),
(1007, '2025-02-17 00:00:00', 1002, '30021-2', 98.21, 85032, 1),
(1007, '2025-03-28 00:00:00', 1009, '60157-8', 60.58, 72240, 1),
(1007, '2025-02-05 00:00:00', 1001, '41423-3', 105.41, 118806, 1),
(1007, '2025-01-07 00:00:00', 1001, '84838-5', 37.55, 35843, 1),
(1007, '2025-01-09 00:00:00', 1009, '51869-2', 84.6, 82497, 1),
(1007, '2025-03-31 00:00:00', 1009, '56265-8', 97.08, 125652, 1),
(1007, '2025-04-10 00:00:00', 1001, '39970-6', 52.85, 68126, 1),
(1007, '2025-04-02 00:00:00', 1001, '18888-6', 65.29, 74155, 1),
(1007, '2025-01-04 00:00:00', 1002, '66845-3', 58.74, 68527, 1),
(1007, '2025-03-08 00:00:00', 1002, '96638-8', 56.32, 61621, 1),
(1007, '2025-01-03 00:00:00', 1002, '10113-3', 112.8, 100495, 1),
(1007, '2025-03-13 00:00:00', 1002, '47819-2', 70.67, 74743, 1),
(1007, '2025-01-30 00:00:00', 1002, '13032-9', 98.11, 91562, 1),
(1007, '2025-02-05 00:00:00', 1001, '20666-4', 39.26, 38239, 1),
(1007, '2025-03-24 00:00:00', 1009, '77716-8', 81.34, 93521, 1),
(1007, '2025-01-03 00:00:00', 1002, '14164-3', 107.71, 137479, 1);




